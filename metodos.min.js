function WidthChange(a){a.matches?(chartWidth=500,chartHeight=500):(chartWidth=200,chartHeight=200)}function replaceX(a,b){var c=/[xX]/g;return a.replace(c,String(b))}function substitui(a){return a.match(/e^/)&&(a=a.replace("e",math.e)),a}function limpar(a){$(a).find("input").each(function(){$(this).val("")})}function drawChart(a,b,c){}function exibeErro(){Materialize.toast("Execução abortada. Excedido "+aborta+" iterações!",6e3)}function bisseccao(){$("#plotBissec").html(" ");var a,b,c,d,e,f,g,h,i,j="#plotBissec";a=$("#bisseccaoFormula").val(),b=$("#bisseccaoIntervalo").val().split("/"),c=parseFloat($("#bisseccaoEpson").val()),e=parseFloat(b[0]),f=parseFloat(b[1]),g=parseFloat(1),i=parseInt(0);for(var k='{"fn": "'+a+'"}, { "points": [['+e+", -1],["+e+', 1]], "fnType": "points", "graphType": "polyline"},{ "points": [['+f+", -1],["+f+', 1]], "fnType": "points", "graphType": "polyline"}',l='{"x": '+e+', "text": "Intervalo = '+e+'"}, {"x": '+f+', "text": "Intervalo = '+f+'"}';Math.abs(g)>c;){if(d=(e+f)/2,g=math.eval(replaceX(a,d)),h=math.eval(replaceX(a,e)),g*h>0?e=d:f=d,i>aborta){exibeErro();break}i++}drawChart(k,l,j),i<aborta&&($("#bisseccaoIteracoes").html(String(i)),$("#bisseccaoX").html(String(d)))}function cordas(){$("#plotCordas").html(" ");var a,b,c,d,e,f,g,h,i,j;if(a=$("#cordasFormula").val(),b=$("#cordasIntervalo").val().split("/"),c=parseFloat($("#cordasEpson").val()),e=parseFloat(b[0]),f=parseFloat(b[1]),h=math.eval(a.replace("x",String(e))),i=math.eval(a.replace("x",String(f))),d=(f*h-e*i)/(h-i),g=math.eval(a.replace("x",String(d))),j=parseInt(0),h*g>0){for(;Math.abs(g)>c;)if(d=(d*h-e*g)/(h-g),g=math.eval(a.replace("x",String(d))),j++,j>aborta){exibeErro();break}}else for(;Math.abs(g)>c;)if(d=(f*g-d*i)/(g-i),g=math.eval(a.replace("x",String(d))),j++,j>aborta){exibeErro();break}j<aborta&&($("#cordasIteracoes").html(String(j)),$("#cordasX").html(String(d)))}function newton(){$("#plotNewton").html(" ");var a,c,d,e,f,g,i,j,k,l;for(a=$("#newtonFormula").val(),c=$("#newtonIntervalo").val().split("/"),d=parseFloat($("#newtonEpson").val()),i=$("#newtonDerivadaUm").val(),k=$("#newtonDerivadaDois").val(),f=parseFloat(c[0]),g=parseFloat(c[1]),j=i,auxFuncao=a,e=g,i=math.eval(i.replace(/x/g,String(e))),k=math.eval(k.replace(/x/g,String(e))),e=k>0?i>0?g:f:i>0?g:f,a=math.eval(a.replace(/x/g,String(e))),i=math.eval(j.replace(/x/g,String(e))),l=0;Math.abs(a)>d&&l<200;)if(e-=a/i,a=math.eval(auxFuncao.replace(/x/g,String(e))),i=math.eval(j.replace(/x/g,String(e))),l++,l>aborta){exibeErro();break}l<aborta&&($("#newtonIteracoes").html(String(l)),$("#newtonX").html(String(e)))}function matrixParser(a,b){a.indexOf(";");b=parseFloat(b.charAt(0)),a=a.replace(/;/g,"");var f,g,d=a.split(" "),e=[];for(f=0,g=-1;f<d.length;f++)f%b===0&&(g++,e[g]=[]),e[g].push(d[f]);return e}function Jacobi(){$("#JacobiIteracoes").html(" "),$("#JacobiX").html(" ");var a=$("#JacobiA").val(),b=$("#JacobiB").val(),c=$("#JacobiOrder").val(),d=matrixParser(a,c),e=$("#JacobiX0").val(),f=e.split(" "),g=new Array,h=parseFloat($("#JacobiEpson").val()),i=b.split(" ");if(0==e.length)for(var j=0;j<i.length;j++)f[j]=Math.floor(1e4*Math.random()+1);for(var n,k=1e3,l=0,m=!0;m&&l<k;){for(var o=0;o<i.length;o++){soma=0;for(var p=0;p<i.length;p++)p!=o&&(soma+=d[o][p]*f[p]/d[o][o]),g[o]=i[o]/d[o][o]-soma}n=Math.abs(math.norm(g)-math.norm(f)),n<h?m=!1:f=g.slice(0),l+=1}for($("#JacobiIteracoes").html(String(l)),o=0;o<f.length;o++)$("#JacobiX").append("X["+o+"] = "+f[o]+"<br>")}function gaussJacobi(){var a=$("#GaussA").val(),b=$("#GaussB").val(),c=$("#GaussOrder").val(),d=matrixParser(a,c),e=$("#GaussX0").val(),f=e.split(" "),g=new Array,h=parseFloat($("#GaussEpson").val()),i=b.split(" ");if(0==e.length)for(var j=0;j<i.length;j++)f[j]=Math.floor(1e4*Math.random()+1);for(var k=1e3,l=0,m=!0;m&&l<k;){for(var o=0;o<i.length;o++){soma=0;for(var p=0;p<o;p++)soma+=d[o][p]*g[p];for(var p=o+1;p<i.length;p++)soma+=d[o][p]*f[p];g[o]=(i[o]-soma)/d[o][o]}Math.abs(math.norm(g)-math.norm(f))<h?m=!1:f=g.slice(0),l+=1}for($("#GaussIteracoes").html(String(l)),o=0;o<f.length;o++)$("#GaussX").append("X["+o+"] = "+f[o]+"<br>")}var aborta=15e3,chartWidth=500,chartHeight=500;if(matchMedia){var mq=window.matchMedia("(min-width: 500px)");mq.addListener(WidthChange),WidthChange(mq)}