var calculator=function(){var a={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"+":6,"-":7,"*":8,"/":9,"^":10,"(":11,")":12,NUMBER:13,e:14,PI:15,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"+",7:"-",8:"*",9:"/",10:"^",11:"(",12:")",13:"NUMBER",14:"e",15:"PI"},productions_:[0,[3,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,3],[4,1],[4,1],[4,1]],performAction:function(b,c,d,e){var f=arguments[5],g=arguments[5].length;switch(arguments[4]){case 1:return f[g-2+1-1];case 2:this.$=f[g-3+1-1]+f[g-3+3-1];break;case 3:this.$=f[g-3+1-1]-f[g-3+3-1];break;case 4:this.$=f[g-3+1-1]*f[g-3+3-1];break;case 5:this.$=f[g-3+1-1]/f[g-3+3-1];break;case 6:this.$=Math.pow(f[g-3+1-1],f[g-3+3-1]);break;case 7:this.$=-f[g-2+2-1];break;case 8:this.$=f[g-3+2-1];break;case 9:this.$=Number(b);break;case 10:this.$=Math.E;break;case 11:this.$=Math.PI}},table:[{3:1,4:2,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{1:[3]},{5:[1,8],6:[1,9],7:[1,10],8:[1,11],9:[1,12],10:[1,13]},{4:14,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{4:15,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],12:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],12:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],12:[2,11]},{1:[2,1]},{4:16,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{4:17,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{4:18,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{4:19,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{4:20,7:[1,3],11:[1,4],13:[1,5],14:[1,6],15:[1,7]},{6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],5:[2,7],12:[2,7]},{12:[1,21],6:[1,9],7:[1,10],8:[1,11],9:[1,12],10:[1,13]},{6:[2,2],7:[2,2],8:[1,11],9:[1,12],10:[1,13],5:[2,2],12:[2,2]},{6:[2,3],7:[2,3],8:[1,11],9:[1,12],10:[1,13],5:[2,3],12:[2,3]},{6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,13],5:[2,4],12:[2,4]},{6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[1,13],5:[2,5],12:[2,5]},{6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],5:[2,6],12:[2,6]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],12:[2,8]}],parseError:function(b,c){throw new Error(b)},parse:function(b){function p(a){d.length=d.length-2*a,e.length=e.length-a}function q(a){for(var b in f[a])if(b==m)return!0;return!1}function r(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]),a}var c=this,d=[0],e=[null],f=this.table,g="",h=0,i=0,j=0,k=0,l=0,m=2,n=1;this.lexer.setInput(b),this.lexer.yy=this.yy,this.yy.lexer=this.lexer;var s,t,u,v,w,x,z,A,B,C,o=this.yy.parseError="function"==typeof this.yy.parseError?this.yy.parseError:this.parseError,y={};for(s=r();;){if(u=d[d.length-1],v=f[u]&&f[u][s],"undefined"==typeof v||!v.length||!v[0]){if(!l){C=[];for(z in f[u])this.terminals_[z]&&z>2&&C.push("'"+this.terminals_[z]+"'");this.lexer.showPosition?o.call(this,"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", "),{text:this.lexer.match,token:this.terminals_[s]||s,line:this.lexer.yylineno,expected:C}):o.call(this,"Parse error on line "+(h+1)+": Unexpected '"+this.terminals_[s]+"'",{text:this.lexer.match,token:this.terminals_[s]||s,line:this.lexer.yylineno,expected:C})}if(3==l){if(s==n)throw"Parsing halted.";i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,s=r()}for(;;){if(q(u))break;if(0==u)throw"Parsing halted.";p(1),u=d[d.length-1]}t=s,s=m,u=d[d.length-1],v=f[u]&&f[u][m],l=3}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+s);switch(w=v,w[0]){case 1:j++,d.push(s),e.push(this.lexer.yytext),d.push(w[1]),t?(s=t,t=null):(i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,s=r(),l>0&&l--);break;case 2:if(k++,A=this.productions_[w[1]][1],y.$=e[e.length-A],x=this.performAction.call(y,g,i,h,this.yy,w[1],e),"undefined"!=typeof x)return x;A&&(d=d.slice(0,-1*A*2),e=e.slice(0,-1*A)),d.push(this.productions_[w[1]][0]),e.push(y.$),B=f[d[d.length-2]][d[d.length-1]],d.push(B);break;case 3:return this.reductionCount=k,this.shiftCount=j,!0}}return!0}},b=function(){var a={EOF:"",parseError:function(b,c){if(!this.yy.parseError)throw new Error(b);this.yy.parseError(b,c)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.match+=a,this.matched+=a;var b=a.match(/\n/);return b&&this.yylineno++,this._input=this._input.slice(1),a},unput:function(a){return this._input=a+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.yytext="",this.match="");for(var d=0;d<this.rules.length;d++)if(b=this._input.match(this.rules[d]))return c=b[0].match(/\n/g),c&&(this.yylineno+=c.length),this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,d),a?a:void 0;return this._input==this.EOF?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()}};return a.performAction=function(b,c){switch(arguments[2]){case 0:break;case 1:return 13;case 2:return 8;case 3:return 9;case 4:return 7;case 5:return 6;case 6:return 10;case 7:return 11;case 8:return 12;case 9:return 15;case 10:return 14;case 11:return 5}},a.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b\b/,/^\*/,/^\//,/^-/,/^\+/,/^\^/,/^\(/,/^\)/,/^PI\b/,/^e\b/,/^$/],a}();return a.lexer=b,a}();"undefined"!=typeof require&&(exports.parser=calculator,exports.parse=function(){return calculator.parse.apply(calculator,arguments)},exports.main=function(b){var c=require("file").path(require("file").cwd());if(!b[1])throw new Error("Usage: "+b[0]+" FILE");var d=c.join(b[1]).read({charset:"utf-8"});exports.parser.parse(d)},require.main===module&&exports.main(require("system").args));